{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import throttle from 'lodash.throttle';\n\nconst FORM_STATE_KEY = 'feedback-form-state';\nconst form = document.querySelector('.feedback-form');\nconst formState = localStorage.getItem(FORM_STATE_KEY);\n\nfunction handleInput() {\n  const formData = new FormData(form);\n  const formDataObject = {};\n\n  for (let [key, value] of formData.entries()) {\n    formDataObject[key] = value;\n  }\n\n  localStorage.setItem(FORM_STATE_KEY, JSON.stringify(formDataObject));\n}\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n\n  const formData = new FormData(form);\n  const formDataObject = {};\n\n  for (let [key, value] of formData.entries()) {\n    formDataObject[key] = value;\n  }\n\n  form.reset();\n  localStorage.removeItem(FORM_STATE_KEY);\n\n  console.log(formDataObject);\n}\n\nform.addEventListener('input', throttle(handleInput, 500));\nform.addEventListener('submit', handleSubmit);\n\nif (formState) {\n  const formStateObject = JSON.parse(formState);\n\n  for (let [key, value] of Object.entries(formStateObject)) {\n    form.elements[key].value = value;\n  }\n}\n"],"names":["FORM_STATE_KEY","form","formState","handleInput","formData","formDataObject","key","value","handleSubmit","event","throttle","formStateObject"],"mappings":"wIAEA,MAAMA,EAAiB,sBACjBC,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAY,aAAa,QAAQF,CAAc,EAErD,SAASG,GAAc,CACrB,MAAMC,EAAW,IAAI,SAASH,CAAI,EAC5BI,EAAiB,CAAA,EAEvB,OAAS,CAACC,EAAKC,CAAK,IAAKH,EAAS,QAAO,EACvCC,EAAeC,GAAOC,EAGxB,aAAa,QAAQP,EAAgB,KAAK,UAAUK,CAAc,CAAC,CACrE,CAEA,SAASG,EAAaC,EAAO,CAC3BA,EAAM,eAAc,EAEpB,MAAML,EAAW,IAAI,SAASH,CAAI,EAC5BI,EAAiB,CAAA,EAEvB,OAAS,CAACC,EAAKC,CAAK,IAAKH,EAAS,QAAO,EACvCC,EAAeC,GAAOC,EAGxBN,EAAK,MAAK,EACV,aAAa,WAAWD,CAAc,EAEtC,QAAQ,IAAIK,CAAc,CAC5B,CAEAJ,EAAK,iBAAiB,QAASS,EAASP,EAAa,GAAG,CAAC,EACzDF,EAAK,iBAAiB,SAAUO,CAAY,EAE5C,GAAIN,EAAW,CACb,MAAMS,EAAkB,KAAK,MAAMT,CAAS,EAE5C,OAAS,CAACI,EAAKC,CAAK,IAAK,OAAO,QAAQI,CAAe,EACrDV,EAAK,SAASK,GAAK,MAAQC,CAE/B"}